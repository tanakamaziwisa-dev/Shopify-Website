<footer class="site-footer" style="--footer-bg: {{ section.settings.background_color }}; --footer-text: {{ section.settings.text_color }};" {{ section.shopify_attributes }}>
  <div class="page-width site-footer__inner">
    <div class="site-footer__brand">
      <h2>{{ settings.store_name | default: shop.name | escape }}</h2>
      <p>{{ section.settings.tagline | escape }}</p>
      {% if section.settings.show_social and settings.social_instagram_link != blank %}
        <a href="{{ settings.social_instagram_link }}" target="_blank" rel="noopener">Instagram</a>
      {% endif %}
    </div>

    <div class="site-footer__menus">
      {% for block in section.blocks %}
        {% if block.type == 'menu_column' and block.settings.menu != blank %}
          <div class="site-footer__column" {{ block.shopify_attributes }}>
            <h3>{{ block.settings.heading | escape }}</h3>
            <ul role="list" class="list-unstyled">
              {% for link in block.settings.menu.links %}
                <li><a href="{{ link.url }}">{{ link.title | escape }}</a></li>
              {% endfor %}
            </ul>
          </div>
        {% endif %}
      {% endfor %}
    </div>

    {% if section.settings.show_newsletter %}
      <div class="site-footer__newsletter">
        <h3>{{ section.settings.newsletter_heading | escape }}</h3>
        {% form 'customer', class: 'newsletter-form' %}
          <input type="hidden" name="contact[tags]" value="newsletter">
          <label class="visually-hidden" for="FooterNewsletter-{{ section.id }}">{{ 'newsletter.label' | t }}</label>
          <input id="FooterNewsletter-{{ section.id }}" type="email" name="contact[email]" value="{{ form.email }}" placeholder="{{ 'newsletter.label' | t }}" required>
          <button type="submit" class="button button--primary">{{ 'newsletter.button_label' | t }}</button>
        {% endform %}
      </div>
    {% endif %}
  </div>

  {% if section.settings.show_payment_icons %}
    <div class="page-width site-footer__payments">
      {{ shop.enabled_payment_types | payment_type_svg_tag }}
    </div>
  {% endif %}
</footer>

{% schema %}
{
  "name": "Footer",
  "settings": [
    {
      "type": "text",
      "id": "tagline",
      "label": "Tagline",
      "default": "Reliable products. Fast delivery. Trusted support."
    },
    {
      "type": "checkbox",
      "id": "show_newsletter",
      "label": "Show newsletter form",
      "default": true
    },
    {
      "type": "text",
      "id": "newsletter_heading",
      "label": "Newsletter heading",
      "default": "Stay in the loop"
    },
    {
      "type": "checkbox",
      "id": "show_social",
      "label": "Show social links",
      "default": true
    },
    {
      "type": "checkbox",
      "id": "show_payment_icons",
      "label": "Show payment icons",
      "default": true
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background",
      "default": "#0b0e14"
    },
    {
      "type": "color",
      "id": "text_color",
      "label": "Text",
      "default": "#f6f7fb"
    }
  ],
  "blocks": [
    {
      "type": "menu_column",
      "name": "Menu column",
      "settings": [
        {
          "type": "text",
          "id": "heading",
          "label": "Heading",
          "default": "Quick links"
        },
        {
          "type": "link_list",
          "id": "menu",
          "label": "Menu"
        }
      ]
    }
  ],
  "max_blocks": 4,
  "presets": [
    {
      "name": "Footer",
      "blocks": [
        { "type": "menu_column" },
        { "type": "menu_column" }
      ]
    }
  ]
}
{% endschema %}
